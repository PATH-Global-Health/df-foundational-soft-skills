[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Foundational Soft Skills",
    "section": "",
    "text": "Foundational Soft Skills Module\nWelcome to the Foundational Skills module of the MACEPA Data Fellowship Program. This module is designed to equip fellows with the critical soft skills necessary to succeed in a fast-paced, collaborative, and data-driven environment.\n\nWhat You Will Learn\nThroughout this module, we will explore key competencies required for effective work in MACEPA and beyond, including:\n\nOrganizational Structure and Collaboration: Understanding how to navigate MACEPA’s work environment and effectively collaborate with your team and external partners.\nTime Management and Prioritization: Developing strategies to manage competing priorities and deadlines while maintaining productivity.\nFeedback Culture: Mastering the art of giving and receiving feedback to foster professional growth and strengthen team dynamics.\nAddressing Common Challenges: Identifying and overcoming challenges in data and analytics work, from data accessibility to engaging stakeholders.\nEffective Communication: Learning how to convey complex information clearly and impactfully through writing, presentations, and visualizations.\n\nSuccess in the field of malaria data analytics requires more than technical expertise. It calls for strong interpersonal skills, strategic planning, and effective communication. This module provides a foundation to help you navigate the complexities of your role and make meaningful contributions to the fight against malaria."
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Module Content",
    "section": "",
    "text": "Find below the slide deck for this module - there are several sub topics contained within this work with links to interactive videos and courses included so make sure you take your time and work through all of this."
  },
  {
    "objectID": "story-telling.html#libraries-and-data-preparation",
    "href": "story-telling.html#libraries-and-data-preparation",
    "title": "2  Tutorial - How to turn a bad slide into a good slide",
    "section": "2.1 Libraries and Data Preparation",
    "text": "2.1 Libraries and Data Preparation\nFirst lets load in the necessary R packages and the dataset for this tutorial - which you can download from the box folder.\n\n\n\n\n\n\nTip\n\n\n\nMake sure you save the data in the same folder as your associated R Project for this module.\nIf you haven’t already installed the necessary R packages for this tutorial you will need to call the install.packages before loading the library.\nFor help installing PATHtoolsZambia see the package webpage for more details.\n\n\n\n# Load libraries\nlibrary(tidyverse)\nlibrary(PATHtoolsZambia)\nlibrary(scales)\nlibrary(sf)\nlibrary(ggpubr)\n\n# Load the data\ndat &lt;- read.csv(\"monthly-cases.csv\")\n\n\n2.1.1 Data Preparation\nOur motivating question here is: What is the malaria trend in Northern Province Zambia since 2018?\nLets take a quick look at this dataset and see what kind of data we are working with. We have 5 columns period with monthly values from 2018 - June 2024, reported_district with names of all the districts in Northern Province, data_type shows our case data is in long format with values of clinical, confirmed and Confirmed_Passive_CHW, age_group again is in long format with categories of Under 5 and Over 5 and finally the total column that provides the number of cases reported.\n\n# see column names\nhead(dat)\n\n      period reported_district data_type age_group total\n1 2018-01-01           Chilubi  Clinical   Under 5    14\n2 2018-01-01           Chilubi  Clinical    Over 5    30\n3 2018-01-01           Chilubi  Clinical   Under 5     6\n4 2018-01-01           Chilubi Confirmed   Under 5  1015\n5 2018-01-01           Chilubi Confirmed    Over 5  1657\n6 2018-01-01           Chilubi Confirmed   Under 5   372\n\n# Display each column's unique values to explore data options\ndat %&gt;% select(-total) %&gt;% map(~ table(.))\n\n$period\n.\n2018-01-01 2018-02-01 2018-03-01 2018-04-01 2018-05-01 2018-06-01 2018-07-01 \n        59         60         60         52         58         54         49 \n2018-08-01 2018-09-01 2018-10-01 2018-11-01 2018-12-01 2019-01-01 2019-02-01 \n        55         54         50         55         56         55         51 \n2019-03-01 2019-04-01 2019-05-01 2019-06-01 2019-07-01 2019-08-01 2019-09-01 \n        57         62         60         64         62         63         61 \n2019-10-01 2019-11-01 2019-12-01 2020-01-01 2020-02-01 2020-03-01 2020-04-01 \n        56         59         75         75         76         75         77 \n2020-05-01 2020-06-01 2020-07-01 2020-08-01 2020-09-01 2020-10-01 2020-11-01 \n        76         76         72         68         68         70         72 \n2020-12-01 2021-01-01 2021-02-01 2021-03-01 2021-04-01 2021-05-01 2021-06-01 \n        72         74         74         72         75         73         68 \n2021-07-01 2021-08-01 2021-09-01 2021-10-01 2021-11-01 2021-12-01 2022-01-01 \n        66         69         70         71         80         81         80 \n2022-02-01 2022-03-01 2022-04-01 2022-05-01 2022-06-01 2022-07-01 2022-08-01 \n        80         80         76         77         81         78         75 \n2022-09-01 2022-10-01 2022-11-01 2022-12-01 2023-01-01 2023-02-01 2023-03-01 \n        74         81         73         74         79         80         84 \n2023-04-01 2023-05-01 2023-06-01 2023-07-01 2023-08-01 2023-09-01 2023-10-01 \n        87         86         83         81         79         88         83 \n2023-11-01 2023-12-01 2024-01-01 2024-02-01 2024-03-01 2024-04-01 2024-05-01 \n        82         82         89         89         96         90         91 \n2024-06-01 \n        91 \n\n$reported_district\n.\n  Chilubi    Kaputa    Kasama     Lunte Lupososhi   Luwingu     Mbala Mporokoso \n      581       368       510       431       426       379       606       323 \n Mpulungu    Mungwi     Nsama     Senga \n      464       423       487       608 \n\n$data_type\n.\n             Clinical             Confirmed Confirmed_Passive_CHW \n                 1803                  2810                   993 \n\n$age_group\n.\n Over 5 Under 5 \n   1946    3327 \n\n# correct date data from character string to date variables:  \ndat$period &lt;- as.Date(dat$period)\n\nThe next step is to aggregate this data up across all of the Districts in Northern Province as we are interested in the Province as a whole, we will also aggregate across age_groups so we have the total population level totals for each data_type.\n\n# Summarize data at the province-month level across all age groups\ndat_sum &lt;- \n  dat %&gt;% \n  group_by(period, data_type) %&gt;% \n  summarise(total = sum(total, na.rm = TRUE)) %&gt;% \n  ungroup() %&gt;% \n  filter(data_type %in% c(\"Clinical\", \"Confirmed\", \"Confirmed_Passive_CHW\"))"
  },
  {
    "objectID": "story-telling.html#initial-visualization",
    "href": "story-telling.html#initial-visualization",
    "title": "2  Tutorial - How to turn a bad slide into a good slide",
    "section": "2.2 Initial Visualization",
    "text": "2.2 Initial Visualization\n\n2.2.1 The Raw Plot\nLets create a simple ggplot() of this dataset. What do we notice? Malaria appears to be increasing in Northern Province over the period from 2018 - 2024.\n\n# Create an initial raw plot\nggplot(dat_sum, \n       aes(x = period, y = total, color = data_type, group=data_type)\n       ) + \n  geom_line()\n\n\n\n\nThis plot can show us that Malaria appears to be increasing in Northern Province over the period from 2018 - 2024. However, there are several problems with this plot:\n\nNo plot title\nThin lines that are hard to see\nHard to see how all the data types add together to get a total malaria trend\nBoring use of color (and potential issues for red-green color blind people)\nUntidy legend (no proper title, underscores between words)\nFigure labels too small\nTimeseries are squashed\nAxes not informatively labeled\nNumbers don’t have commas (i.e 60,000)\n\n\n\n2.2.2 Aesthetic Improvements\nThe best approach to making improvements to plots is to iteratively make small changes to enahance each aspect of the plot. Such as the following steps:\nLets first remove the “_” from one of our data_type variables for better readability.\n\n# where data_type value is \"Confirmed_Passive_CHW\" replace with \"Confirmed Passive CHW\" otherwise keep the current data_type value\ndat_sum &lt;- \n  dat_sum %&gt;% \n  mutate(nice_names = \n           ifelse(data_type == \"Confirmed_Passive_CHW\", \"Confirmed Passive CHW\", data_type) \n         )\n\nThen we can make some additions to the ggplot() code to further enhance the plot - each is described in the code below:\n\n# Create an improved plot\nggplot(dat_sum, \n       aes(x = period, y = total, fill = nice_names, group=nice_names) # use nice_names for each line colour\n       ) + \n  geom_area() + # replace lines with a shaded area plot\n  scale_y_continuous(labels = comma) + # add comma separators to the numbers on the yaxis \n  labs(x = \"Year\", y = \"Total malaria cases per month\") + # include informative axis labels \n  ggtitle(\"Monthly malaria cases in Northern Province, Zambia\", # include a plot title and subtitle that's informative \n          subtitle = \"Jan 2018 - June 2024\"\n          ) + \n  scale_fill_manual(\"Data type\", values = c(\"#758ECD\", \"#A5C4D4\", \"#7B6D8D\")) + # change the default colours https://coolors.co/ is a great source of nice colors \n  theme_bw() # use an inbuilt ggplot theme \n\n\n\n\nThis is a good step in the right direction but it is still difficult to see the number of clinical cases when stacked at the top and the colours we have chosen are also slighty hard to distinguish so lets address these two aspects:\n\n# use factoring to alter the order of data_type in the plot  \ndat_sum &lt;- \n  dat_sum %&gt;% \n  mutate(nice_names = factor(nice_names, levels = c(\"Confirmed\",\n                                                    \"Confirmed Passive CHW\",\n                                                    \"Clinical\")\n                             )\n         )\n\n# Plot this data with new colurs \nggplot(dat_sum, aes(x = period, y = total, fill = nice_names, group=nice_names)) + \n  geom_area() +\n  scale_y_continuous(labels = comma) +\n  scale_x_date(date_breaks = \"1 year\", date_labels = \"%Y\") +\n  labs(x = \"Year\", y = \"Total malaria cases per month\") +\n  ggtitle(\"Monthly malaria cases in Northern Province, Zambia\",\n          subtitle = \"Jan 2018 - June 2024\") +\n  scale_fill_manual(\"Data type\", values = c(\"#A5C4D4\",\"#758ECD\", \"#E3A27F\")) + #changes colour\n  theme_bw()\n\n\n\n\n\n\n2.2.3 Scientific story telling issues\nAs noted in the slides, while this plot is a visual improvement on the first we need to also address how we interpret this plot and the potential missing pieces to answer our analysis question.\n\nOur initial description of the results: “Malaria appears to be increasing in Northern Province over the period from 2018 - 2024” isn’t very informative and is a limited description of the results.\nPlot shows total malaria cases – doesn’t account for population growth\nCant really tell the extent to which cases are increasing over time – hard to aggregate visually over 12 months of data to assess annual trends\n\nIs more context needed to starting thinking of solutions? Are these increases occurring over all districts in the province? Are increases greater in under 5s or over 5s? Has coverage of interventions decreased over time?"
  },
  {
    "objectID": "story-telling.html#technical-enhancements",
    "href": "story-telling.html#technical-enhancements",
    "title": "2  Tutorial - How to turn a bad slide into a good slide",
    "section": "2.3 Technical Enhancements",
    "text": "2.3 Technical Enhancements\nTo start addressing some of these issues we can add in some additional context to this plot - through using population data we can add in an understanding of how malaria incidence as well as raw case counts are changing over time.\n\n# Retrieve population data from the PATHToolsZambia package - this is the population totals at the province level for 2022\npop_northern_2022 &lt;- \n  retrieve(\"province-shp\") %&gt;% \n  st_drop_geometry() %&gt;% \n  filter(geo_province == \"Northern\") %&gt;% \n  pull(census_pop_22) \n\n# Calculate incidence \ndat_sum_inc &lt;- \n  dat_sum %&gt;% \n  # data is from 2022 so rename column for ease of use\n  mutate(pop_22 = pop_northern_2022) %&gt;% \n  # extract year data from the period column \n  mutate(year = year(period)) %&gt;% \n  # scale the population total data for the years that we are missing this data assuming a population growth rate of 2.8% \n  mutate(pop = scale_pop_growth_annual(initial_pop = pop_22, new_year = year, initial_year = 2022, growth_rate = 1.028)) %&gt;% \n  # calculate incidence per 1000 population \n  mutate(monthly_inc_per_1000 = total / pop * 1000)\n\n\n2.3.1 Population-Adjusted Plot\nWe can view this incidence data both as a timeseries and summarised at the annual level.\n\n# Create area plot with population-adjusted data\np1 &lt;- \n  ggplot(dat_sum_inc, aes(x = period, y = monthly_inc_per_1000, fill = nice_names)) + \n  geom_area() +\n  scale_y_continuous(labels = comma) +\n  labs(x = \"Year\", y = \"Malaria cases per 1,000 population per month\") +\n  ggtitle(\"Monthly malaria cases per 1,000 population in Northern Province, Zambia\",\n          subtitle = \"Jan 2018 - June 2024\") +\n  scale_fill_manual(\"Data type\", values = c(\"#A5C4D4\", \"#758ECD\", \"#E3A27F\")) +\n  theme_bw()\n\n# summing data to the yearly level for each data type\ndat_sum_inc_annual &lt;- \n  dat_sum_inc %&gt;% \n  group_by(nice_names, year) %&gt;% \n  summarise(total_inc = sum(monthly_inc_per_1000)) %&gt;% \n  ungroup()\n\n# create a bar chart of annual data \np2 &lt;- \n  ggplot(dat_sum_inc_annual, aes(x = year, y = total_inc, fill = nice_names)) +\n  geom_col() +\n  scale_x_continuous(breaks = 2018:2024) +\n  labs(x = \"Year\", y = \"Annual malaria cases per 1,000 population\") +\n  ggtitle(\"Annual malaria cases per 1,000 \\npopulation in Northern Province, Zambia\",\n          subtitle = \"Jan 2018 - June 2024\") +\n  scale_fill_manual(\"Data type\", values = c(\"#A5C4D4\",\"#758ECD\", \"#E3A27F\")) +\n  theme_bw()\n\n# combine the plots into a single image \np_comb &lt;- ggpubr::ggarrange(p1, p2, common.legend = TRUE, legend = \"bottom\",\n                  widths = c(2,1.2))\n\np_comb\n\n\n\n\nThe addition of the bar graph makes it easier to see the trends, but would be even easier if we could read off the total incidence on each bar, and it is not necessarily clear to the reader that 2024 only includes 6 months of data. In addition we have cut the title off the plots short with the sizing so lets fix all of that.\n\n# calculating bar totals to add to plot - this is the combined total of each of the data_types that year\ndat_sum_inc_annual_tot &lt;- \n  dat_sum_inc_annual %&gt;% \n  group_by(year) %&gt;% \n  summarise(total = sum(total_inc)) %&gt;% #summing total values \n  ungroup() %&gt;% \n  mutate(bar_label = round(total, 0)) %&gt;% #rounding totals to remove decimal places\n  mutate(bar_label = ifelse(year ==  2024, paste0(bar_label, \"*\"), bar_label)) #including * to 2024 label to make a note of months missing\n\n# Plot these changes \np3 &lt;- \n  ggplot(dat_sum_inc_annual, aes(x = year, y = total_inc, fill = nice_names)) +\n  geom_col() +\n  scale_x_continuous(breaks = 2018:2024) +\n  labs(x = \"Year\", y = \"Annual malaria cases per 1,000 population\") +\n  ggtitle(\"Annual malaria cases per 1,000 \\npopulation\",\n          subtitle = \"Jan 2018 - June 2024\") +\n  scale_fill_manual(\"Data type\", values = c(\"#A5C4D4\",\"#758ECD\", \"#E3A27F\")) +\n  theme_bw()\n\n\np4 &lt;- \n  ggplot() +\n  geom_col(data = dat_sum_inc_annual, aes(x = year, y = total_inc, fill = nice_names)) +\n  geom_text(data = dat_sum_inc_annual_tot, aes(x = year, y = total + 25, label = bar_label)) + # include text labels at the top of each bar\n  scale_x_continuous(breaks = 2018:2024) +\n  labs(x = \"Year\", y = \"Annual malaria cases per 1,000 population\", \n       caption = \"* Only includes data up to June 2024\" #include caption note about 2024 missing data\n       ) +\n  ggtitle(\"Annual malaria cases per 1,000 \\npopulation\",\n          subtitle = \"Jan 2018 - June 2024\") +\n  scale_fill_manual(\"Data type\", values = c(\"#A5C4D4\",\"#758ECD\", \"#E3A27F\")) +\n  theme_bw()\n\np_comb2 &lt;- ggpubr::ggarrange(p3, p4, common.legend = TRUE, legend = \"bottom\",\n                            widths = c(2,1.2))\n\n# add a combined figure title \nannotate_figure(p_comb2, top = text_grob(\"Malaria incidence in Northern Province, Zambia\", \n                                        face = \"bold\", size = 14))\n\n\n\n\nWith this updated figure we can provide clearer key messages to our audience:\n\nThere was an increase in malaria cases in 2023, to 698 cases per 1,000 population a 32% increase on 2022\nSince 2022, there has been an increasing proportion of malaria cases detected in the community, potentially contributing to increased case reports"
  },
  {
    "objectID": "story-telling.html#exercises",
    "href": "story-telling.html#exercises",
    "title": "2  Tutorial - How to turn a bad slide into a good slide",
    "section": "2.4 Exercises",
    "text": "2.4 Exercises\nCan you use a similar approach to provide a slide to answer the following question: Is this increase consistent across all districts, or is it focused in a few places?\n\n\n\n\n\n\nTip\n\n\n\nggplot includes an excellent faceting feature (facet_wrap and facet_grid) that you might find useful to answer this question.\nretrieve(\"district-shp\") will be useful when retrieving the population data at the district level."
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "3  True Colours Exercise",
    "section": "",
    "text": "We covered the True Colours Excercise during our Welcome Week sessions - the slides can be found here for your reference."
  }
]